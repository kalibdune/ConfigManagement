Разработать ассемблер и интерпретатор для учебной виртуальной машины
(УВМ). Система команд УВМ представлена далее.
Для ассемблера необходимо разработать читаемое представление команд
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к
которой задается из командной строки. Результатом работы ассемблера является
бинарный файл в виде последовательности байт, путь к которому задается из
командной строки. Дополнительный ключ командной строки задает путь к файлу-
логу, в котором хранятся ассемблированные инструкции в духе списков
“ключ=значение”, как в приведенных далее тестах.
Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон
также указывается из командной строки.
Форматом для файла-лога и файла-результата является yaml.
Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.
71
Загрузка константы
|A| B| C|
|---|---|---|
|Биты 0—6| Биты 7—28| Биты 29—46|
|86| Адрес| Константа|

Размер команды: 11 байт. Операнд: поле C. Результат: значение в памяти по
адресу, которым является поле B.
Тест (A=86, B=964, C=740):
0x56, 0xE2, 0x01, 0x80, 0x5C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
Чтение значения из памяти

|A| B| C|
|--|---|---|
|Биты 0—6| Биты 7—28| Биты 29—50|
|58| Адрес| Адрес|

Размер команды: 11 байт. Операнд: значение в памяти по адресу, которым
является значение в памяти по адресу, которым является поле C. Результат:
значение в памяти по адресу, которым является поле B.
Тест (A=58, B=945, C=265):
0xBA, 0xD8, 0x01, 0x20, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
Запись значения в память

|A| B| C|
|--|--|--|
|Биты 0—6| Биты 7—28| Биты 29—50|
|66| Адрес| Адрес|

Размер команды: 11 байт. Операнд: значение в памяти по адресу, которым
является поле B. Результат: значение в памяти по адресу, которым является поле
C.
Тест (A=66, B=57, C=118):
0xC2, 0x1C, 0x00, 0xC0, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
Унарная операция: bitreverse()
72
|A| B| C| D|
|--|--|--|--|
|Биты 0—6| Биты 7—28| Биты 29—42| Биты 43—64|
|87| Адрес| Смещение| Адрес|

Размер команды: 11 байт. Операнд: значение в памяти по адресу, которым
является поле D. Результат: значение в памяти по адресу, которым является сумма
адреса (значение в памяти по адресу, которым является поле B) и смещения (поле
C).
Тест (A=87, B=400, C=4, D=385):
0x57, 0xC8, 0x00, 0x80, 0x00, 0x08, 0x0C, 0x00, 0x00, 0x00, 0x00
Тестовая программа
Выполнить поэлементно операцию bitreverse() над вектором длины 8.
Результат записать в новый вектор.

# Запуск работы
```bash
git clone <URL репозитория>
cd <директория проекта>
```

# Создайте виртуальное окружение
python -m venv venv

```bash
# Активируйте виртуальное окружение
python -m venv venv
# Для Windows:
venv\Scripts\activate
# Для MacOS/Linux:
source venv/bin/activate
pip install pyyaml
```

## Запуск
```bash
python assemble.py <input_file> <binary_file> <log_file>
python script.py <binary_file> <resultult_file> <memory_start> <memory_end>
```

# 3. Структура проекта
Проект содержит следующие файлы и директории, связанные с тестированием:
```bash
main.py           # Файл с реализацией команд
test.py      # Файл с тестами для команд
```

# 4. Запуск тестов
В этом руководстве описывается, как запустить тесты для команд эмулятора оболочки. Мы будем использовать модуль Python `unittest` для тестирования.
```bash
python -m unittest tests.py
```